(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/residekc_logo.9602df15.svg"},26:function(e,t,a){e.exports=a(58)},32:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),r=a(4),i=a(5),o=a(7),c=a(6),l=a(8),d=a(0),u=a.n(d),f=a(23),h=a.n(f),p=(a(32),a(13)),m=a.n(p),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var w=a(24),y=a.n(w),b={bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(54.69726685890506,-2.7379201682812226),new window.google.maps.LatLng(55.38942944437183,-1.2456105979687226)),strictBounds:!0},E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={address:a.props.address?a.props.address:"",searchOptions:b},a.handleSelect=function(e){a.setState({address:e}),a.props.setAddress(e)},a.handleChange=function(e){a.setState({address:e})},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"searchbox"},u.a.createElement(y.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,s=e.loading;return u.a.createElement("div",null,u.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),u.a.createElement("div",{className:"autocomplete-dropdown-container"},s&&u.a.createElement("div",null,"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item";return u.a.createElement("div",n(e,{className:t}),u.a.createElement("span",null,e.description))})))}))}}]),t}(u.a.Component),k=a(60),S=a(61),C=function(e){var t=e.trashDay,a=e.trashProvider,n=e.bulkyItems;return u.a.createElement("div",{className:"trashDay"},u.a.createElement("h1",null,"Your trash infomation"),u.a.createElement("p",null,"You trash will be picked up on ",u.a.createElement("strong",null,t)," by Provider: ",u.a.createElement("strong",null,a)),u.a.createElement("p",null,"Any bulky items will be picked up on the ",u.a.createElement("strong",null,n)," of the month."))},I=function(e){var t=e.offices,a=e.officials,n=e.list,s=t.map(function(e,t){return t>=3?u.a.createElement("div",{key:a[t].name},u.a.createElement("img",{width:"150",alt:a[t].name,src:a[t].photoUrl?a[t].photoUrl:"https://via.placeholder.com/150"}),u.a.createElement("p",null,u.a.createElement("strong",null,e.name)),u.a.createElement("p",null,a[t].name)):null}),r=t.map(function(e,t){return t<3?u.a.createElement("div",{key:a[t].name},u.a.createElement("img",{width:"150",alt:a[t].name,src:a[t].photoUrl?a[t].photoUrl:"https://via.placeholder.com/150"}),u.a.createElement("p",null,u.a.createElement("strong",null,e.name)),u.a.createElement("p",null,a[t].name)):null});return"stateList"===n?u.a.createElement("div",{className:"ui relaxed divided list"},s):u.a.createElement("div",{className:"ui relaxed divided list"},r)},A=function(e){var t=e.longitude,a=e.latitude;console.log("lat is "+a),console.log("long is "+t);return u.a.createElement("div",{className:"trashDay"},u.a.createElement("iframe",{src:"https://maps.google.com/maps?q=parks+in+kansas+city&z=11&output=embed",title:"maps",width:"600",height:"450",frameBorder:"0",style:{border:0}}))},O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={displayInfo:"trash"},a.handleClick=function(e){a.setState({displayInfo:e})},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement(E,{setAddress:this.props.setAddress,address:this.props.address}),u.a.createElement(k.a,null,u.a.createElement(S.a,{onClick:function(){e.handleClick("trash")}},"Trash"),u.a.createElement(S.a,{onClick:function(){e.handleClick("stateGovernment")}},"State Officials"),u.a.createElement(S.a,{onClick:function(){e.handleClick("federalGovernment")}},"Federal Legislative Officials"),u.a.createElement(S.a,{onClick:function(){e.handleClick("parkMap")}},"Park Map")),"trash"===this.state.displayInfo&&u.a.createElement(C,{bulkyItems:this.props.trashInfo.bulkyItems,trashProvider:this.props.trashInfo.trashProvider,trashDay:this.props.trashInfo.trashDay}),"stateGovernment"===this.state.displayInfo&&u.a.createElement(I,{list:"stateList",offices:this.props.offices,officials:this.props.officials}),"federalGovernment"===this.state.displayInfo&&u.a.createElement(I,{list:"federalList",offices:this.props.offices,officials:this.props.officials}),"parkMap"===this.state.displayInfo&&u.a.createElement(A,{latitude:this.props.latitude,longitude:this.props.longitude}))}}]),t}(u.a.Component),j=function(e){return u.a.createElement("div",null,u.a.createElement("form",{onSubmit:e.handleSubmit},u.a.createElement("label",null,"Search and click on your address below."),u.a.createElement(E,{setAddress:e.setAddress})))},L=a(25),x=a.n(L),D=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={gotData:!1,councilDistrict:"",kivaPIN:"",address:"",trashInfo:{trashDay:"",trashProvider:"",bulkyItems:""},offices:[],officials:[],latitude:"",longitude:""},a.setAddress=function(e){var t=String(e),n=String(e).split("");if(isNaN(n[0])&&alert("Please choose an address that has a numerical address"),t.toLowerCase().includes("kansas city")&&t.toLowerCase().includes("mo")){var s=t.split(",")[0];a.setState({address:s}),a.handleSubmit(s)}else alert("Please choose another address")},a.updateInfo=function(e,t,n){a.setState({gotData:!0,trashInfo:{trashDay:e,trashProvider:t,bulkyItems:n}})},a.kcDataSubmit=function(e){var t;return s.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.replace(/ /g,"%20"),n.next=3,s.a.awrap(m.a.get("http://dev-api.codeforkc.org//address-attributes/V0/"+t+"?city=Kansas%20City&state=MO").then(function(e){var t,n,r,i,o;return s.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,s.a.awrap(e.data);case 2:return t=c.sent,n=t.data.latitude,r=t.data.longitude,console.log(t.data),console.log(n,r),a.setState({latitude:t.data.latitude,longitude:t.data.longitude}),c.next=9,s.a.awrap("https://maps.kcmo.org/kcgis/rest/services/ParcelGeocodes/MapServer/1/");case 9:return c.t0=c.sent,c.t1=t.data.city_id,c.t2=c.t0+c.t1,i=c.t2+"?f=json&pretty=true",c.next=15,s.a.awrap(a.kcMapsSubmit(i));case 15:return o=c.sent,c.abrupt("return",o);case 17:case"end":return c.stop()}})}).catch(function(e){console.log(e)}));case 3:case"end":return n.stop()}})},a.kcMapsSubmit=function(e){return s.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:m.a.get(e).then(function(e){var t=e.data,n=t.feature.attributes.TRASHDAY,s=t.feature.attributes.TRASHPROVIDER,r=t.feature.attributes.BULKYDAY;a.updateInfo(n,s,r)}).catch(function(e){a.setState({gotData:!1}),console.log(e),alert("Please make sure the address you are entering is in the Kansas City area and not in a surrounding area like North Kansas City or Liberty.")});case 1:case"end":return t.stop()}})},a.googleCivicSubmit=function(e){var t="https://www.googleapis.com/civicinfo/v2/representatives?address="+e+"%2C%20Kansas%20City%2C%20MO&key=AIzaSyANGMualu3HzRARJIsPuLM0vHbIxAHVQpE";m.a.get(t).then(function(e){var t=e.data,n=t.offices,s=t.officials;n.splice(3,0,{name:"United States Sentate"}),n.splice(0,2),s.splice(0,2),a.setState({offices:n,officials:s})}).catch(function(e){console.log(e)})},a.handleSubmit=function(e){var t;return s.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e,n.next=3,s.a.awrap(a.kcDataSubmit(t));case 3:return n.next=5,s.a.awrap(a.googleCivicSubmit(t));case 5:case"end":return n.stop()}})},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"container"},u.a.createElement("img",{src:x.a,alt:"ResideKC",className:"logo"}),this.state.gotData?u.a.createElement(O,{trashInfo:this.state.trashInfo,displayInfo:this.displayInfo,setAddress:this.setAddress,address:this.state.address,electedState:this.state.electedState,electedFeds:this.state.electedFeds,offices:this.state.offices,officials:this.state.officials,latitude:this.state.latitude,longitude:this.state.longitude}):u.a.createElement(j,{handleSubmit:this.handleSubmit,setAddress:this.setAddress}))}}]),t}(u.a.Component);h.a.render(u.a.createElement(D,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/ResideKC",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/ResideKC","/service-worker.js");g?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):v(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):v(e)})}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.e8f8eb49.chunk.js.map